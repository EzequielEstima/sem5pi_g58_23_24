<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="822px" preserveAspectRatio="none" style="width:1230px;height:822px;background:#FFFFFF;" version="1.1" viewBox="0 0 1230 822" width="1230px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="705.8281" style="stroke:#181818;stroke-width:1.0;" width="10" x="102" y="69.9609"/><rect fill="#FFFFFF" height="630.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="357" y="100.3125"/><rect fill="#FFFFFF" height="424.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="681.5" y="173.2734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="889.5" y="203.625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="975.5" y="264.3281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="975.5" y="325.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1035.5" y="385.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1035.5" y="446.4375"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1185" y="537.4922"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:1.5;" width="454" x="3" y="613.1953"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="106.5" x2="106.5" y1="37.6094" y2="785.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="362" x2="362" y1="37.6094" y2="785.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="538" x2="538" y1="139.6172" y2="785.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="686" x2="686" y1="37.6094" y2="785.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="894" x2="894" y1="37.6094" y2="785.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="980" x2="980" y1="37.6094" y2="785.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1040" x2="1040" y1="37.6094" y2="785.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1108" x2="1108" y1="37.6094" y2="785.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1190" x2="1190" y1="37.6094" y2="785.7891"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="67.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="74.5" y="26.5332">PisoRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="67.5" y="784.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="74.5" y="806.3223">PisoRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="277" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="284" y="26.5332">controller: PisoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="277" y="784.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="284" y="806.3223">controller: PisoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="470" y="784.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="477" y="806.3223">dto: EditarPisoDTO</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="616" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="623" y="26.5332">service: PisoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="616" y="784.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="623" y="806.3223">service: PisoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="848" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="855" y="26.5332">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="848" y="784.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="855" y="806.3223">EdificioRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="951" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="958" y="26.5332">Edificio</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="951" y="784.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="958" y="806.3223">Edificio</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="1020" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="1027" y="26.5332">Piso</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="1020" y="784.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="1027" y="806.3223">Piso</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="1071" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1078" y="26.5332">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="75" x="1071" y="784.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1078" y="806.3223">PisoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1156" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="1163" y="26.5332">PisoMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1156" y="784.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="1163" y="806.3223">PisoMap</text><rect fill="#FFFFFF" height="705.8281" style="stroke:#181818;stroke-width:1.0;" width="10" x="102" y="69.9609"/><rect fill="#FFFFFF" height="630.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="357" y="100.3125"/><rect fill="#FFFFFF" height="424.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="681.5" y="173.2734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="889.5" y="203.625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="975.5" y="264.3281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="975.5" y="325.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1035.5" y="385.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1035.5" y="446.4375"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1185" y="537.4922"/><ellipse cx="7.5" cy="69.2109" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="90,65.9609,100,69.9609,90,73.9609,94,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="12" x2="96" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="15" y="65.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="26" y="65.1045">PUT(json)</text><polygon fill="#181818" points="345,96.3125,355,100.3125,345,104.3125,349,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="112" x2="351" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="119" y="95.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="130" y="95.4561">editarPiso(Request, Response, Next)</text><polygon fill="#181818" points="458,126.6641,468,130.6641,458,134.6641,462,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="367" x2="464" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="374" y="125.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="385" y="125.8076">create(json)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="470" y="108.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="477" y="129.8457">dto: EditarPisoDTO</text><polygon fill="#181818" points="669.5,169.2734,679.5,173.2734,669.5,177.2734,673.5,173.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="367" x2="675.5" y1="173.2734" y2="173.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="374" y="168.417">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="385" y="168.417">editarPiso(editarPisoDTO)</text><polygon fill="#181818" points="877.5,199.625,887.5,203.625,877.5,207.625,881.5,203.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.5" x2="883.5" y1="203.625" y2="203.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="698.5" y="198.7686">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="709.5" y="198.7686">findByDomain(codigoEdificio)</text><polygon fill="#181818" points="702.5,229.9766,692.5,233.9766,702.5,237.9766,698.5,233.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="893.5" y1="233.9766" y2="233.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="708.5" y="229.1201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="719.5" y="229.1201">edificio</text><polygon fill="#181818" points="963.5,260.3281,973.5,264.3281,963.5,268.3281,967.5,264.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.5" x2="969.5" y1="264.3281" y2="264.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="698.5" y="259.4717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="709.5" y="259.4717">verificaSePisoJaExiste(novoNumeroPiso)</text><polygon fill="#181818" points="702.5,290.6797,692.5,294.6797,702.5,298.6797,698.5,294.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="979.5" y1="294.6797" y2="294.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="708.5" y="289.8232">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="719.5" y="289.8232">boolean</text><polygon fill="#181818" points="963.5,321.0313,973.5,325.0313,963.5,329.0313,967.5,325.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.5" x2="969.5" y1="325.0313" y2="325.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="698.5" y="320.1748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="709.5" y="320.1748">pisosCorrespondentes(numeroPiso)</text><polygon fill="#181818" points="702.5,351.3828,692.5,355.3828,702.5,359.3828,698.5,355.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="979.5" y1="355.3828" y2="355.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="708.5" y="350.5264">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="726.5" y="350.5264">piso</text><polygon fill="#181818" points="1023.5,381.7344,1033.5,385.7344,1023.5,389.7344,1027.5,385.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.5" x2="1029.5" y1="385.7344" y2="385.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="698.5" y="380.8779">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="716.5" y="380.8779">atualizarNumeroPiso(novoNumeroPiso)</text><polygon fill="#181818" points="702.5,412.0859,692.5,416.0859,702.5,420.0859,698.5,416.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="1039.5" y1="416.0859" y2="416.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="708.5" y="411.2295">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="726.5" y="411.2295">result</text><polygon fill="#181818" points="1023.5,442.4375,1033.5,446.4375,1023.5,450.4375,1027.5,446.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.5" x2="1029.5" y1="446.4375" y2="446.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="698.5" y="441.5811">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="716.5" y="441.5811">atualizarDescricaoPiso(descricaoPiso)</text><polygon fill="#181818" points="702.5,472.7891,692.5,476.7891,702.5,480.7891,698.5,476.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="1039.5" y1="476.7891" y2="476.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="708.5" y="471.9326">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="726.5" y="471.9326">result</text><polygon fill="#181818" points="1096.5,503.1406,1106.5,507.1406,1096.5,511.1406,1100.5,507.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.5" x2="1102.5" y1="507.1406" y2="507.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="698.5" y="502.2842">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="716.5" y="502.2842">save(piso)</text><polygon fill="#181818" points="1173,533.4922,1183,537.4922,1173,541.4922,1177,537.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="691.5" x2="1179" y1="537.4922" y2="537.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="698.5" y="532.6357">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="716.5" y="532.6357">toDTO(piso)</text><polygon fill="#181818" points="702.5,563.8438,692.5,567.8438,702.5,571.8438,698.5,567.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="1189" y1="567.8438" y2="567.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="708.5" y="562.9873">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="726.5" y="562.9873">pisoDTO</text><polygon fill="#181818" points="378,594.1953,368,598.1953,378,602.1953,374,598.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="372" x2="685.5" y1="598.1953" y2="598.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="384" y="593.3389">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="402" y="593.3389">resposta</text><path d="M3,613.1953 L64,613.1953 L64,621.5469 L54,631.5469 L3,631.5469 L3,613.1953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:1.5;" width="454" x="3" y="613.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="18" y="627.6904">alt</text><polygon fill="#181818" points="123,649.8984,113,653.8984,123,657.8984,119,653.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="117" x2="356" y1="653.8984" y2="653.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="129" y="649.042">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="147" y="649.042">Ok</text><polygon fill="#181818" points="11,680.25,1,684.25,11,688.25,7,684.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="101" y1="684.25" y2="684.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="679.3936">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="35" y="679.3936">Ok</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3" x2="457" y1="693.25" y2="693.25"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="41" x="8" y="704.6689">["Erro"]</text><polygon fill="#181818" points="123,726.4375,113,730.4375,123,734.4375,119,730.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="117" x2="361" y1="730.4375" y2="730.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="129" y="725.5811">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="147" y="725.5811">Erro</text><polygon fill="#181818" points="11,756.7891,1,760.7891,11,764.7891,7,760.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="101" y1="760.7891" y2="760.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="755.9326">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="35" y="755.9326">Erro</text><!--MD5=[e4af840eb0a5b797c4befac734eea2b3]
@startuml
autonumber

participant PisoRoute as route
participant "controller: PisoController" as ctrl
participant "dto: EditarPisoDTO" as dto
participant "service: PisoService" as service
participant "EdificioRepo" as edRepo
participant "Edificio" as edificio
participant "Piso" as piso
participant "PisoRepo" as pisoRepo
participant "PisoMap" as pisoMap


[o-> route: PUT(json)
activate route
route -> ctrl: editarPiso(Request, Response, Next)
activate ctrl
ctrl -> dto ** : create(json)
ctrl -> service: editarPiso(editarPisoDTO) 
activate service
service -> edRepo: findByDomain(codigoEdificio)
activate edRepo
return edificio
service -> edificio : verificaSePisoJaExiste(novoNumeroPiso)
activate edificio
return boolean
service -> edificio : pisosCorrespondentes(numeroPiso)
activate edificio
return piso
service -> piso : atualizarNumeroPiso(novoNumeroPiso)
activate piso
return result
service -> piso : atualizarDescricaoPiso(descricaoPiso)
activate piso
return result
service -> pisoRepo: save(piso)
service -> pisoMap: toDTO(piso)
activate pisoMap
return pisoDTO
return resposta
alt
route <- - ctrl: Ok
<- - route: Ok
else "Erro"
route <- - ctrl: Erro
deactivate ctrl
<- - route: Erro
end alt
deactivate route












@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>