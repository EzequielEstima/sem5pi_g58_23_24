<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="743px" preserveAspectRatio="none" style="width:1676px;height:743px;background:#FFFFFF;" version="1.1" viewBox="0 0 1676 743" width="1676px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="628.0313" style="stroke:#181818;stroke-width:1.0;" width="10" x="104" y="69.9609"/><rect fill="#FFFFFF" height="479.7891" style="stroke:#181818;stroke-width:1.0;" width="10" x="454" y="100.3125"/><rect fill="#FFFFFF" height="376.4766" style="stroke:#181818;stroke-width:1.0;" width="10" x="848.5" y="173.2734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1069.5" y="203.625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1209.5" y="264.3281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1209.5" y="325.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1209.5" y="385.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1611" y="489.0469"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="175" x="3" y="595.1016"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="109" x2="109" y1="37.6094" y2="706.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="458.5" x2="458.5" y1="37.6094" y2="706.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="663.5" x2="663.5" y1="139.6172" y2="706.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="853.5" x2="853.5" y1="37.6094" y2="706.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1074.5" x2="1074.5" y1="37.6094" y2="706.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1214.5" x2="1214.5" y1="37.6094" y2="706.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1510.5" x2="1510.5" y1="455.3906" y2="706.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1615.5" x2="1615.5" y1="37.6094" y2="706.9922"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="50" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="57" y="26.5332">dispositivoRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="50" y="705.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="57" y="727.5254">dispositivoRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="353.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="360.5" y="26.5332">controller: DispositivoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="353.5" y="705.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="360.5" y="727.5254">controller: DispositivoController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178" x="574.5" y="705.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="581.5" y="727.5254">dto: AdicionarRoboAFrota</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="762.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="769.5" y="26.5332">service: DispositivoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="762.5" y="705.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="769.5" y="727.5254">service: DispositivoService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="1002.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1009.5" y="26.5332">TipoDispositivoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="1002.5" y="705.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1009.5" y="727.5254">TipoDispositivoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1156.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1163.5" y="26.5332">DispositivoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1156.5" y="705.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1163.5" y="727.5254">DispositivoRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="1469.5" y="705.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1476.5" y="727.5254">Dispositivo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1561.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1568.5" y="26.5332">DispositivoMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1561.5" y="705.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1568.5" y="727.5254">DispositivoMap</text><rect fill="#FFFFFF" height="628.0313" style="stroke:#181818;stroke-width:1.0;" width="10" x="104" y="69.9609"/><rect fill="#FFFFFF" height="479.7891" style="stroke:#181818;stroke-width:1.0;" width="10" x="454" y="100.3125"/><rect fill="#FFFFFF" height="376.4766" style="stroke:#181818;stroke-width:1.0;" width="10" x="848.5" y="173.2734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1069.5" y="203.625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1209.5" y="264.3281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1209.5" y="325.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1209.5" y="385.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1611" y="489.0469"/><ellipse cx="7.5" cy="69.2109" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="92,65.9609,102,69.9609,92,73.9609,96,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="12" x2="98" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="15" y="65.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="26" y="65.1045">Post(json)</text><polygon fill="#181818" points="442,96.3125,452,100.3125,442,104.3125,446,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="114" x2="448" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="121" y="95.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="132" y="95.4561">adicionarDispositivoAFrota(Request, Response, Next)</text><polygon fill="#181818" points="562.5,126.6641,572.5,130.6641,562.5,134.6641,566.5,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="464" x2="568.5" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="471" y="125.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="482" y="125.8076">create(json)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="178" x="574.5" y="108.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="581.5" y="129.8457">dto: AdicionarRoboAFrota</text><polygon fill="#181818" points="836.5,169.2734,846.5,173.2734,836.5,177.2734,840.5,173.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="464" x2="842.5" y1="173.2734" y2="173.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="471" y="168.417">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319" x="482" y="168.417">adicionarDispositivoAFrota(listarEdMinEMaxPisosDTO)</text><polygon fill="#181818" points="1057.5,199.625,1067.5,203.625,1057.5,207.625,1061.5,203.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="858.5" x2="1063.5" y1="203.625" y2="203.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="865.5" y="198.7686">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="876.5" y="198.7686">findByDomainId(tipoDispositivo)</text><polygon fill="#181818" points="869.5,229.9766,859.5,233.9766,869.5,237.9766,865.5,233.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="863.5" x2="1073.5" y1="233.9766" y2="233.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="875.5" y="229.1201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="886.5" y="229.1201">tipoDispositivo</text><polygon fill="#181818" points="1197.5,260.3281,1207.5,264.3281,1197.5,268.3281,1201.5,264.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="858.5" x2="1203.5" y1="264.3281" y2="264.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="865.5" y="259.4717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="876.5" y="259.4717">findByDomainId(codigo)</text><polygon fill="#181818" points="869.5,290.6797,859.5,294.6797,869.5,298.6797,865.5,294.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="863.5" x2="1213.5" y1="294.6797" y2="294.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="875.5" y="289.8232">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="886.5" y="289.8232">dispositivo</text><polygon fill="#181818" points="1197.5,321.0313,1207.5,325.0313,1197.5,329.0313,1201.5,325.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="858.5" x2="1203.5" y1="325.0313" y2="325.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="865.5" y="320.1748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="876.5" y="320.1748">findByNickname(nickname)</text><polygon fill="#181818" points="869.5,351.3828,859.5,355.3828,869.5,359.3828,865.5,355.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="863.5" x2="1213.5" y1="355.3828" y2="355.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="875.5" y="350.5264">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="893.5" y="350.5264">dispositivo</text><polygon fill="#181818" points="1197.5,381.7344,1207.5,385.7344,1197.5,389.7344,1201.5,385.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="858.5" x2="1203.5" y1="385.7344" y2="385.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="865.5" y="380.8779">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="883.5" y="380.8779">findByNumeroSerie(nickname)</text><polygon fill="#181818" points="869.5,412.0859,859.5,416.0859,869.5,420.0859,865.5,416.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="863.5" x2="1213.5" y1="416.0859" y2="416.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="875.5" y="411.2295">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="893.5" y="411.2295">listaDispositivo</text><polygon fill="#181818" points="1457.5,442.4375,1467.5,446.4375,1457.5,450.4375,1461.5,446.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="858.5" x2="1463.5" y1="446.4375" y2="446.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="865.5" y="441.5811">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="569" x="883.5" y="441.5811">create(numeroDeSerie, tipoDispositivo, descricaoDispositivo, nickname, codigo, estadoDispositivo)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="1469.5" y="424.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1476.5" y="445.6191">Dispositivo</text><polygon fill="#181818" points="1599,485.0469,1609,489.0469,1599,493.0469,1603,489.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="858.5" x2="1605" y1="489.0469" y2="489.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="865.5" y="484.1904">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="883.5" y="484.1904">toDTO(dispositivo)</text><polygon fill="#181818" points="869.5,515.3984,859.5,519.3984,869.5,523.3984,865.5,519.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="863.5" x2="1615" y1="519.3984" y2="519.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="875.5" y="514.542">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="893.5" y="514.542">dispositivoDTO</text><polygon fill="#181818" points="475,545.75,465,549.75,475,553.75,471,549.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="469" x2="852.5" y1="549.75" y2="549.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="481" y="544.8936">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="499" y="544.8936">resposta</text><polygon fill="#181818" points="125,576.1016,115,580.1016,125,584.1016,121,580.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="119" x2="458" y1="580.1016" y2="580.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="131" y="575.2451">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="149" y="575.2451">resposta</text><path d="M3,595.1016 L64,595.1016 L64,603.4531 L54,613.4531 L3,613.4531 L3,595.1016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:1.5;" width="175" x="3" y="595.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="18" y="609.5967">alt</text><polygon fill="#181818" points="11,631.8047,1,635.8047,11,639.8047,7,635.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="103" y1="635.8047" y2="635.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="630.9482">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="35" y="630.9482">Ok</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3" x2="178" y1="644.8047" y2="644.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="41" x="8" y="656.2236">["Erro"]</text><polygon fill="#181818" points="11,677.9922,1,681.9922,11,685.9922,7,681.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="103" y1="681.9922" y2="681.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="677.1357">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="35" y="677.1357">Erro</text><!--MD5=[e1ed70f25f5ed2092cf3a840384d609c]
@startuml
autonumber

participant dispositivoRoute as route
participant "controller: DispositivoController" as ctrl
participant "dto: AdicionarRoboAFrota" as dto
participant "service: DispositivoService" as service
participant "TipoDispositivoRepo" as tipoRepo
participant "DispositivoRepo" as disRepo
participant "Dispositivo" as dispositivo
participant "DispositivoMap" as disMap

[o-> route: Post(json)
activate route
route -> ctrl: adicionarDispositivoAFrota(Request, Response, Next)
activate ctrl
ctrl -> dto ** : create(json)
ctrl -> service: adicionarDispositivoAFrota(listarEdMinEMaxPisosDTO) 
activate service
service -> tipoRepo: findByDomainId(tipoDispositivo)
activate tipoRepo
return tipoDispositivo
service -> disRepo: findByDomainId(codigo)
activate disRepo
return dispositivo
service -> disRepo: findByNickname(nickname)
activate disRepo
return dispositivo
service -> disRepo: findByNumeroSerie(nickname)
activate disRepo
return listaDispositivo
service -> dispositivo**: create(numeroDeSerie, tipoDispositivo, descricaoDispositivo, nickname, codigo, estadoDispositivo)
service -> disMap: toDTO(dispositivo)
activate disMap
return dispositivoDTO
return resposta
return resposta
alt
<- - route: Ok
else "Erro"
<- - route: Erro
end alt














@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>